{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  created() {},\n  data() {\n    return {\n      password: \"\",\n      userName: \"\",\n      reload: true,\n      errorLogin: \"\",\n      errorUser: \"\",\n      errorPass: \"\"\n    };\n  },\n  methods: {\n    validateUser() {\n      if (this.userName == '') {\n        console.log(1);\n        this.errorUser = \"Tên đăng nhập không được trống\";\n      } else {\n        this.errorUser = \"\";\n      }\n    },\n    validatePass() {\n      if (this.password == '') {\n        this.errorPass = \"Mật khẩu không được trống\";\n      } else {\n        this.errorPass = \"\";\n      }\n    },\n    async onClickLogin() {\n      const response = await axios({\n        url: \"https://localhost:44301/api/Authors/sign-in\",\n        method: \"Post\",\n        data: {\n          userName: this.userName,\n          password: this.password\n        }\n      }).catch(() => {\n        this.errorLogin = \"Tài khoản hoặc mật khẩu không chính xác!\";\n      });\n      console.log(response);\n      localStorage.setItem(\"Token\", response.data);\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + localStorage.getItem(\"Token\");\n      this.$router.push(\"/nhanvien\");\n    }\n  }\n};","map":{"version":3,"names":["axios","created","data","password","userName","reload","errorLogin","errorUser","errorPass","methods","validateUser","console","log","validatePass","onClickLogin","response","url","method","catch","localStorage","setItem","defaults","headers","common","getItem","$router","push"],"sources":["D:\\QLNS\\QLNS-DHTL\\src\\components\\page\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\" >\r\n    <div class=\"login-content\" >\r\n      <div class=\"login-content-image\"></div>\r\n      <div class=\"login-content-form\" @keypress.enter=\"onClickLogin\">\r\n        <div class=\"logo\">\r\n          <img src=\"../../assets/img/Logo-DH-Thuy-Loi.webp\" alt=\"\" />\r\n        </div>\r\n        <div class=\"text\"> <span>Quản Lý Nhân Sự</span></div>\r\n        <label for=\"\"> Tên đăng nhập</label>\r\n        <input :class=\"errorUser!=''? 'borderRed' : ''\" required placeholder=\"Tên đăng nhập\" @blur=\"validateUser\" type=\"text\" v-model=\"userName\" />\r\n        <div v-if=\"errorUser!=''\" style=\"color: red; position: absolute; margin-top: -26px;\" class=\"error\">{{ errorUser }}</div>\r\n        <label for=\"\"> Mật khẩu</label>\r\n        <input :class=\"errorPass!=''? 'borderRed' : ''\" @blur=\"validatePass\" required placeholder=\"Mật khẩu\" type=\"password\" v-model=\"password\" />\r\n        <div v-if=\"errorPass!=''\" style=\"color: red; position: absolute; margin-top: -26px;\" class=\"error\">Mật khẩu không được trống</div>\r\n        <button @click=\"onClickLogin\" class=\"btnLogin\">Đăng nhập</button>\r\n\r\n        <router-link to=\"/sinhvien\">Quên mật khẩu?</router-link>\r\n\r\n        <div v-if=\"errorLogin !== ''\" class=\"error-login\">{{ errorLogin }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"login-footer\">footer</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  created() {},\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      userName: \"\",\r\n      reload: true,\r\n      errorLogin: \"\",\r\n      errorUser:\"\",\r\n      errorPass:\"\",\r\n    };\r\n  },\r\n  methods: {\r\n    validateUser(){\r\n      if(this.userName == ''){\r\n        console.log(1);\r\n        this.errorUser=\"Tên đăng nhập không được trống\"\r\n      }else{\r\n        this.errorUser=\"\"\r\n      }\r\n    },\r\n    validatePass(){\r\n      if(this.password == ''){\r\n        \r\n        this.errorPass=\"Mật khẩu không được trống\"\r\n      }else{\r\n        this.errorPass=\"\"\r\n      }\r\n    },\r\n    async onClickLogin() {\r\n      const response = await axios({\r\n        url: \"https://localhost:44301/api/Authors/sign-in\",\r\n        method: \"Post\",\r\n        data: {\r\n          userName: this.userName,\r\n          password: this.password,\r\n        },\r\n      }).catch(() => {\r\n        this.errorLogin = \"Tài khoản hoặc mật khẩu không chính xác!\";\r\n      });\r\n\r\n      console.log(response);\r\n      localStorage.setItem(\"Token\", response.data);\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        \"Bearer \" + localStorage.getItem(\"Token\");\r\n      this.$router.push(\"/nhanvien\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\nlabel{\r\n  font-size: 15px;\r\n}\r\ninput{\r\n  border: 1px solid #161414;\r\n  outline-color: #8fde;\r\n  margin-top: 8px;\r\n}\r\ninput:focus{\r\n  outline-color: #8fde;\r\n  border: 1px solid rgb(58, 230, 81);\r\n}\r\n.btnLogin:hover{\r\nbackground-color: #fff;\r\ncolor: #000;\r\nborder: 1px solid #000;\r\n}\r\n.borderRed{\r\n  border: 1px solid red;\r\n}\r\n@import url(\"../../css/page/login.css\");\r\n</style>\r\n"],"mappings":";AA2BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,OAAOA,CAAA,EAAG,CAAC,CAAC;EACZC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,IAAI;MACZC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAC,EAAE;MACZC,SAAS,EAAC;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAE;MACZ,IAAG,IAAI,CAACN,QAAO,IAAK,EAAE,EAAC;QACrBO,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC;QACd,IAAI,CAACL,SAAS,GAAC,gCAA+B;MAChD,CAAC,MAAI;QACH,IAAI,CAACA,SAAS,GAAC,EAAC;MAClB;IACF,CAAC;IACDM,YAAYA,CAAA,EAAE;MACZ,IAAG,IAAI,CAACV,QAAO,IAAK,EAAE,EAAC;QAErB,IAAI,CAACK,SAAS,GAAC,2BAA0B;MAC3C,CAAC,MAAI;QACH,IAAI,CAACA,SAAS,GAAC,EAAC;MAClB;IACF,CAAC;IACD,MAAMM,YAAYA,CAAA,EAAG;MACnB,MAAMC,QAAO,GAAI,MAAMf,KAAK,CAAC;QAC3BgB,GAAG,EAAE,6CAA6C;QAClDC,MAAM,EAAE,MAAM;QACdf,IAAI,EAAE;UACJE,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBD,QAAQ,EAAE,IAAI,CAACA;QACjB;MACF,CAAC,CAAC,CAACe,KAAK,CAAC,MAAM;QACb,IAAI,CAACZ,UAAS,GAAI,0CAA0C;MAC9D,CAAC,CAAC;MAEFK,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;MACrBI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACb,IAAI,CAAC;MAC5CF,KAAK,CAACqB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAC3C,SAAQ,GAAIJ,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;IAChC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}