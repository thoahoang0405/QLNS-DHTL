{"ast":null,"code":"// import notifi from \"./FormNotifi.vue\"\n// import combobox from \"../base/BaseCombobox.vue\";\nimport axios from \"axios\";\nimport { useToast } from \"vue-toastification\";\nexport default {\n  data() {\n    return {\n      isShow: false,\n      recruit: {},\n      formMode: 1\n    };\n  },\n  props: [\"RecruitSL\", \"recruitID\"],\n  components: {\n    // combobox,\n  },\n  watch: {\n    RecruitSL: function (value) {\n      this.recruit = value;\n      this.recruit.RecruitmentID = value.RecruitmentID;\n    },\n    FormMode: function (value) {\n      this.formMode = value;\n    }\n  },\n  methods: {\n    addRecruit() {\n      var me = this;\n      console.log(me.recruit);\n      me.recruit.Gender = parseInt(me.recruit.Gender);\n      const toast = useToast();\n      try {\n        axios.post(\"https://localhost:7029/api/Recruitment\", me.recruit).then(function (res) {\n          console.log(\"ok\", res.data);\n          me.recruit = {};\n          toast.success(\"thêm dữ liệu thành công\", {\n            timeout: 2000\n          });\n          // me.loadData()\n        }).catch(function () {\n          toast.error(\"thêm dữ liệu thất bại\", {\n            timeout: 2000\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    editRecruit() {\n      var me = this;\n      const toast = useToast();\n      try {\n        axios.put(`https://localhost:7029/api/Employees/${this.recruit.RecruitmentID}`, me.recruit).then(function (res) {\n          console.log(\"ok\", res.data);\n          me.$emit(\"hideForm\", false);\n          toast.success(\"Sửa dữ liệu thành công\", {\n            timeout: 2000\n          });\n        }).catch(function () {\n          toast.error(\"Sửa dữ liệu thất bại\", {\n            timeout: 2000\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    closeFormRecruit() {\n      this.$emit(\"hideForm\", false);\n      this.errors = {};\n    },\n    save() {\n      if (this.formMode == 1) {\n        this.addRecruit();\n      } else {\n        this.editRecruit();\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","useToast","data","isShow","recruit","formMode","props","components","watch","RecruitSL","value","RecruitmentID","FormMode","methods","addRecruit","me","console","log","Gender","parseInt","toast","post","then","res","success","timeout","catch","error","editRecruit","put","$emit","closeFormRecruit","errors","save"],"sources":["C:\\Users\\Admin\\Documents\\QLNS\\QLNS-DHTL\\src\\components\\base\\FormRecruitManag.vue"],"sourcesContent":["<template>\r\n    <div id=\"form\">\r\n      <form class=\"form\">\r\n        <div class=\"form-top\">\r\n          <div class=\"form-title\">\r\n            <h3 class=\"title\">Thêm/sửa thông tin tuyển dụng</h3>\r\n            <span class=\"close\" @click=\"closeFormRecruit\">X</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-Wrap\">\r\n          <div class=\"column\">\r\n            <div class=\"input__box\">\r\n              <label for=\"\">Image</label>\r\n              <input class=\"manv\" type=\"file\" />\r\n              <!-- <div class=\"invalid-feedback\" v-if=\"errors.manv\">\r\n                {{ errors.manv }}\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column\">\r\n            <div class=\"input__box\">\r\n              <label for=\"\">Tiêu đề</label>\r\n              <input class=\"ten\" type=\"text\" v-model=\"recruit.Title\"/>\r\n              <!-- <div class=\"invalid-feedback\" v-if=\"errors.ten\">\r\n                {{ errors.ten }}\r\n              </div> -->\r\n            </div>\r\n            <div class=\"input__box\">\r\n              <label for=\"\">Văn bằng</label>\r\n              <input class=\"manv\" type=\"text\" v-model=\"recruit.Experience\"/>\r\n              <!-- <div class=\"invalid-feedback\" v-if=\"errors.manv\">\r\n                {{ errors.manv }}\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"column\">\r\n            <div class=\"input__box\">\r\n              <label for=\"\">Khoa</label>\r\n              <input class=\"ten\" type=\"text\" v-model=\"recruit.DepartmentOfWork\"/>\r\n              <!-- <div class=\"invalid-feedback\" v-if=\"errors.ten\">\r\n                {{ errors.ten }}\r\n              </div> -->\r\n            </div>\r\n            <div class=\"input__box\">\r\n              <label for=\"\">Bậc lương</label>\r\n              <input class=\"ten\" type=\"text\" v-model=\"recruit.Salary\"/>\r\n              <!-- <div class=\"invalid-feedback\" v-if=\"errors.ten\">\r\n                {{ errors.ten }}\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n\r\n          \r\n        </div>\r\n        <div class=\"form-bottom\">\r\n          <div class=\"btn btn-cancel\" @click=\"closeFormRecruit\">Hủy</div>\r\n          <div class=\"btn btn-save\" @click=\"save\">Lưu</div>\r\n        </div>\r\n      </form>\r\n      <!-- <notifi\r\n        v-show=\"isShowNotifi\"\r\n        @closeNotifi=\"closeNo\"\r\n        @cancelNotifi=\"FormCancel\"\r\n      ></notifi> -->\r\n    </div>\r\n  \r\n    <!-- thongbao -->\r\n  </template>\r\n  \r\n  <script>\r\n  // import notifi from \"./FormNotifi.vue\"\r\n  // import combobox from \"../base/BaseCombobox.vue\";\r\n  import axios from \"axios\";\r\n  import { useToast } from \"vue-toastification\";\r\n  \r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        isShow: false,\r\n        recruit: {},\r\n        formMode: 1,\r\n\r\n      };\r\n    },\r\n    props: [\"RecruitSL\",\"recruitID\"],\r\n    components: {\r\n      // combobox,\r\n    },\r\n    watch: {\r\n    RecruitSL: function(value){\r\n        this.recruit=value\r\n        this.recruit.RecruitmentID=value.RecruitmentID\r\n    },\r\n    FormMode: function(value){\r\n        this.formMode=value\r\n    },\r\n    \r\n  },\r\n    methods: { \r\n      addRecruit(){\r\n          var me = this;\r\n          console.log(me.recruit);\r\n          me.recruit.Gender=parseInt( me.recruit.Gender)\r\n        const toast = useToast();\r\n        try {\r\n          axios\r\n            .post(\"https://localhost:7029/api/Recruitment\", me.recruit)\r\n            .then(function (res) {\r\n              console.log(\"ok\", res.data);\r\n              me.recruit={}\r\n              toast.success(\"thêm dữ liệu thành công\", { timeout: 2000 });\r\n              // me.loadData()\r\n            })\r\n          \r\n            .catch(function () {\r\n              toast.error(\"thêm dữ liệu thất bại\", { timeout: 2000 });\r\n            });\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n\r\n      editRecruit(){\r\n        var me = this;\r\n        const toast = useToast();\r\n        try {\r\n          axios\r\n            .put(`https://localhost:7029/api/Employees/${this.recruit.RecruitmentID}`, me.recruit)\r\n            .then(function (res) {\r\n              console.log(\"ok\", res.data);\r\n              me.$emit(\"hideForm\", false);\r\n              toast.success(\"Sửa dữ liệu thành công\", { timeout: 2000 });\r\n            })\r\n          \r\n            .catch(function () {\r\n              toast.error(\"Sửa dữ liệu thất bại\", { timeout: 2000 });\r\n            });\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n\r\n      closeFormRecruit() {\r\n        this.$emit(\"hideForm\", false);\r\n        this.errors = {\r\n        };\r\n      },\r\n      save() {\r\n        if(this.formMode==1){\r\n            this.addRecruit()\r\n        }else{\r\n          this.editRecruit()\r\n        }\r\n      }\r\n    }\r\n  }\r\n      \r\n  \r\n     \r\n      \r\n  </script>\r\n  <style>\r\n  label {\r\n    margin: 10px 0;\r\n  }\r\n  label span{\r\n    color: red;\r\n  }\r\n  .invalid-feedback {\r\n    color: red;\r\n    position: absolute;\r\n    font-size: 12px;\r\n    /* border: 2px solid red; */\r\n  }\r\n  #form {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    z-index: 3;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: auto;\r\n    position: fixed;\r\n    display: flex;\r\n    /* display: none; */\r\n  }\r\n  #form input {\r\n    max-width: 100%;\r\n    max-height: 26px;\r\n    padding-bottom: 6px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 2px;\r\n    outline: none;\r\n    position: relative;\r\n    width: 100%;\r\n    outline: none;\r\n    padding-left: 5px;\r\n    color: #707070;\r\n    margin-top: 7px;\r\n  }\r\n  .form {\r\n    width: fit-content;\r\n    height: fit-content;\r\n    background-color: #fff;\r\n    margin: auto auto;\r\n    border-radius: 8px;\r\n    width: 800px;\r\n    /* display: none; */\r\n  }\r\n  .form-Wrap {\r\n    padding: 0 20px;\r\n  }\r\n  .form-title {\r\n    padding: 0 13px;\r\n    background-color: #d9d9d9;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 0px;\r\n  }\r\n  .close {\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    font-size: 18px;\r\n    color: #726c6c;\r\n  }\r\n  .input__box {\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  .form-bottom {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding: 8px;\r\n    background-color: #d9d9d9;\r\n    gap: 28px;\r\n    margin-top: 2px;\r\n  }\r\n  .btn-cancel {\r\n    background-color: #fff;\r\n  }\r\n  .btn-save {\r\n    background-color: #1a8fdd;\r\n    color: #fff;\r\n  }\r\n  .btn {\r\n    padding: 10px 30px;\r\n    cursor: pointer;\r\n    border-radius: 2px;\r\n    height: 36px;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n  }\r\n  .column {\r\n    display: flex;\r\n    column-gap: 20px;\r\n  }\r\n  .radio__box {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 8px;\r\n    column-gap: 10px;\r\n  }\r\n  .radio__box input {\r\n    width: 15px;\r\n    margin: 0;\r\n  }\r\n    .important {\r\n      color: red;\r\n    }\r\n  </style>\r\n  "],"mappings":"AAuEE;AACA;AACA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,QAAO,QAAS,oBAAoB;AAG7C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE,CAAC,CAAC;MACXC,QAAQ,EAAE;IAEZ,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,WAAW,EAAC,WAAW,CAAC;EAChCC,UAAU,EAAE;IACV;EAAA,CACD;EACDC,KAAK,EAAE;IACPC,SAAS,EAAE,SAAAA,CAASC,KAAK,EAAC;MACtB,IAAI,CAACN,OAAO,GAACM,KAAI;MACjB,IAAI,CAACN,OAAO,CAACO,aAAa,GAACD,KAAK,CAACC,aAAY;IACjD,CAAC;IACDC,QAAQ,EAAE,SAAAA,CAASF,KAAK,EAAC;MACrB,IAAI,CAACL,QAAQ,GAACK,KAAI;IACtB;EAEF,CAAC;EACCG,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAE;MACR,IAAIC,EAAC,GAAI,IAAI;MACbC,OAAO,CAACC,GAAG,CAACF,EAAE,CAACX,OAAO,CAAC;MACvBW,EAAE,CAACX,OAAO,CAACc,MAAM,GAACC,QAAQ,CAAEJ,EAAE,CAACX,OAAO,CAACc,MAAM;MAC/C,MAAME,KAAI,GAAInB,QAAQ,EAAE;MACxB,IAAI;QACFD,KAAI,CACDqB,IAAI,CAAC,wCAAwC,EAAEN,EAAE,CAACX,OAAO,EACzDkB,IAAI,CAAC,UAAUC,GAAG,EAAE;UACnBP,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEM,GAAG,CAACrB,IAAI,CAAC;UAC3Ba,EAAE,CAACX,OAAO,GAAC,CAAC;UACZgB,KAAK,CAACI,OAAO,CAAC,yBAAyB,EAAE;YAAEC,OAAO,EAAE;UAAK,CAAC,CAAC;UAC3D;QACF,CAAC,EAEAC,KAAK,CAAC,YAAY;UACjBN,KAAK,CAACO,KAAK,CAAC,uBAAuB,EAAE;YAAEF,OAAO,EAAE;UAAK,CAAC,CAAC;QACzD,CAAC,CAAC;MACN,EAAE,OAAOE,KAAK,EAAE;QACdX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;MACpB;IACF,CAAC;IAEDC,WAAWA,CAAA,EAAE;MACX,IAAIb,EAAC,GAAI,IAAI;MACb,MAAMK,KAAI,GAAInB,QAAQ,EAAE;MACxB,IAAI;QACFD,KAAI,CACD6B,GAAG,CAAE,wCAAuC,IAAI,CAACzB,OAAO,CAACO,aAAc,EAAC,EAAEI,EAAE,CAACX,OAAO,EACpFkB,IAAI,CAAC,UAAUC,GAAG,EAAE;UACnBP,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEM,GAAG,CAACrB,IAAI,CAAC;UAC3Ba,EAAE,CAACe,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC;UAC3BV,KAAK,CAACI,OAAO,CAAC,wBAAwB,EAAE;YAAEC,OAAO,EAAE;UAAK,CAAC,CAAC;QAC5D,CAAC,EAEAC,KAAK,CAAC,YAAY;UACjBN,KAAK,CAACO,KAAK,CAAC,sBAAsB,EAAE;YAAEF,OAAO,EAAE;UAAK,CAAC,CAAC;QACxD,CAAC,CAAC;MACN,EAAE,OAAOE,KAAK,EAAE;QACdX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;MACpB;IACF,CAAC;IAEDI,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACD,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC;MAC7B,IAAI,CAACE,MAAK,GAAI,CACd,CAAC;IACH,CAAC;IACDC,IAAIA,CAAA,EAAG;MACL,IAAG,IAAI,CAAC5B,QAAQ,IAAE,CAAC,EAAC;QAChB,IAAI,CAACS,UAAU,EAAC;MACpB,CAAC,MAAI;QACH,IAAI,CAACc,WAAW,EAAC;MACnB;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}