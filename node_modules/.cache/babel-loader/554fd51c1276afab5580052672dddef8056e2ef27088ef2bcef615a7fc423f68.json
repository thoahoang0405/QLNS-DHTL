{"ast":null,"code":"'use strict';\n\nvar sequences = {};\nvar DEFAULTS = {\n  timestamp: function () {\n    return Date.now();\n  },\n  datetime: function () {\n    return new Date().toISOString();\n  },\n  date: function () {\n    return new Date().toISOString().slice(0, 10);\n  },\n  time: function () {\n    return new Date().toISOString().slice(11);\n  },\n  random: function () {\n    return Math.random();\n  },\n  randomint: function (args) {\n    var limit = args && args.max || 2;\n    return function () {\n      return Math.floor(Math.random() * limit);\n    };\n  },\n  seq: function (args) {\n    var name = args && args.name || '';\n    sequences[name] = sequences[name] || 0;\n    return function () {\n      return sequences[name]++;\n    };\n  }\n};\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    compile: function (schema, parentSchema, it) {\n      var funcs = {};\n      for (var key in schema) {\n        var d = schema[key];\n        var func = getDefault(typeof d == 'string' ? d : d.func);\n        funcs[key] = func.length ? func(d.args) : func;\n      }\n      return it.opts.useDefaults && !it.compositeRule ? assignDefaults : noop;\n      function assignDefaults(data) {\n        for (var prop in schema) {\n          if (data[prop] === undefined || it.opts.useDefaults == 'empty' && (data[prop] === null || data[prop] === '')) data[prop] = funcs[prop]();\n        }\n        return true;\n      }\n      function noop() {\n        return true;\n      }\n    },\n    DEFAULTS: DEFAULTS,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: ['string', 'object'],\n        additionalProperties: false,\n        required: ['func', 'args'],\n        properties: {\n          func: {\n            type: 'string'\n          },\n          args: {\n            type: 'object'\n          }\n        }\n      }\n    }\n  };\n  ajv.addKeyword('dynamicDefaults', defFunc.definition);\n  return ajv;\n  function getDefault(d) {\n    var def = DEFAULTS[d];\n    if (def) return def;\n    throw new Error('invalid \"dynamicDefaults\" keyword property value: ' + d);\n  }\n};","map":{"version":3,"names":["sequences","DEFAULTS","timestamp","Date","now","datetime","toISOString","date","slice","time","random","Math","randomint","args","limit","max","floor","seq","name","module","exports","defFunc","ajv","definition","compile","schema","parentSchema","it","funcs","key","d","func","getDefault","length","opts","useDefaults","compositeRule","assignDefaults","noop","data","prop","undefined","metaSchema","type","additionalProperties","required","properties","addKeyword","def","Error"],"sources":["D:/dhtl/ptda/UI/QLNS-DHTL/node_modules/ajv-keywords/keywords/dynamicDefaults.js"],"sourcesContent":["'use strict';\r\n\r\nvar sequences = {};\r\n\r\nvar DEFAULTS = {\r\n  timestamp: function() { return Date.now(); },\r\n  datetime: function() { return (new Date).toISOString(); },\r\n  date: function() { return (new Date).toISOString().slice(0, 10); },\r\n  time: function() { return (new Date).toISOString().slice(11); },\r\n  random: function() { return Math.random(); },\r\n  randomint: function (args) {\r\n    var limit = args && args.max || 2;\r\n    return function() { return Math.floor(Math.random() * limit); };\r\n  },\r\n  seq: function (args) {\r\n    var name = args && args.name || '';\r\n    sequences[name] = sequences[name] || 0;\r\n    return function() { return sequences[name]++; };\r\n  }\r\n};\r\n\r\nmodule.exports = function defFunc(ajv) {\r\n  defFunc.definition = {\r\n    compile: function (schema, parentSchema, it) {\r\n      var funcs = {};\r\n\r\n      for (var key in schema) {\r\n        var d = schema[key];\r\n        var func = getDefault(typeof d == 'string' ? d : d.func);\r\n        funcs[key] = func.length ? func(d.args) : func;\r\n      }\r\n\r\n      return it.opts.useDefaults && !it.compositeRule\r\n              ? assignDefaults\r\n              : noop;\r\n\r\n      function assignDefaults(data) {\r\n        for (var prop in schema){\r\n          if (data[prop] === undefined\r\n            || (it.opts.useDefaults == 'empty'\r\n            && (data[prop] === null || data[prop] === '')))\r\n            data[prop] = funcs[prop]();\r\n        }\r\n        return true;\r\n      }\r\n\r\n      function noop() { return true; }\r\n    },\r\n    DEFAULTS: DEFAULTS,\r\n    metaSchema: {\r\n      type: 'object',\r\n      additionalProperties: {\r\n        type: ['string', 'object'],\r\n        additionalProperties: false,\r\n        required: ['func', 'args'],\r\n        properties: {\r\n          func: { type: 'string' },\r\n          args: { type: 'object' }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  ajv.addKeyword('dynamicDefaults', defFunc.definition);\r\n  return ajv;\r\n\r\n  function getDefault(d) {\r\n    var def = DEFAULTS[d];\r\n    if (def) return def;\r\n    throw new Error('invalid \"dynamicDefaults\" keyword property value: ' + d);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}